9. Запишем все слова в отдельную большую строку.

Тогда скажем что каждая буквы в этой строке - это отдельная вершина в графе. 
Тогда построим матрица смежности данного графа, где ребро между вершинами будет показывать нам стоимость которую мы получаем, если в этом случае добавляется новое слово.
Будем считать что путь между i и j - это самый 
Чтобы это построить давайте проведем между соседними буквами в одном слове одностороннее ребро со стоимостью 0.
Это даст нам возможность пойти по слову не считая что мы его берем.